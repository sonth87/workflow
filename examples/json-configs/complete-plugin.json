{
  "metadata": {
    "id": "custom-integration-plugin",
    "name": {
      "en": "Custom Integration Plugin",
      "vi": "Plugin Tích hợp Tùy chỉnh"
    },
    "version": "1.0.0",
    "description": {
      "en": "Plugin with custom integration nodes",
      "vi": "Plugin với các node tích hợp tùy chỉnh"
    },
    "author": "Your Company"
  },
  "categories": [
    {
      "id": "integrations",
      "name": {
        "en": "Integrations",
        "vi": "Tích hợp"
      },
      "icon": "Plug",
      "description": {
        "en": "External system integration nodes",
        "vi": "Các node tích hợp hệ thống bên ngoài"
      },
      "order": 10,
      "separator": {
        "show": true,
        "style": "line",
        "color": "#e5e7eb"
      }
    },
    {
      "id": "notifications",
      "name": {
        "en": "Notifications",
        "vi": "Thông báo"
      },
      "icon": "Bell",
      "description": {
        "en": "Notification and messaging nodes",
        "vi": "Các node thông báo và nhắn tin"
      },
      "order": 11,
      "separator": {
        "show": false
      }
    }
  ],
  "nodes": [
    {
      "id": "slackNotification",
      "extends": "task",
      "name": {
        "en": "Slack Notification",
        "vi": "Thông báo Slack"
      },
      "description": {
        "en": "Send notification to Slack channel",
        "vi": "Gửi thông báo đến kênh Slack"
      },
      "category": "notifications",
      "icon": {
        "type": "lucide",
        "value": "MessageSquare",
        "color": "#ffffff",
        "backgroundColor": "#4A154B"
      },
      "properties": [
        {
          "id": "channel",
          "name": "channel",
          "label": {
            "en": "Channel",
            "vi": "Kênh"
          },
          "type": "text",
          "required": true,
          "placeholder": "#general",
          "group": "basic",
          "order": 1
        },
        {
          "id": "message",
          "name": "message",
          "label": {
            "en": "Message",
            "vi": "Tin nhắn"
          },
          "type": "textarea",
          "required": true,
          "placeholder": {
            "en": "Enter your message",
            "vi": "Nhập tin nhắn của bạn"
          },
          "group": "basic",
          "order": 2
        },
        {
          "id": "webhookUrl",
          "name": "webhookUrl",
          "label": {
            "en": "Webhook URL",
            "vi": "URL Webhook"
          },
          "type": "text",
          "required": true,
          "placeholder": "https://hooks.slack.com/services/...",
          "group": "config",
          "order": 3
        },
        {
          "id": "username",
          "name": "username",
          "label": {
            "en": "Bot Username",
            "vi": "Tên Bot"
          },
          "type": "text",
          "required": false,
          "defaultValue": "Workflow Bot",
          "group": "config",
          "order": 4
        }
      ],
      "propertyGroups": [
        {
          "id": "basic",
          "label": {
            "en": "Message",
            "vi": "Tin nhắn"
          },
          "icon": "MessageSquare",
          "order": 1
        },
        {
          "id": "config",
          "label": {
            "en": "Configuration",
            "vi": "Cấu hình"
          },
          "icon": "Settings",
          "order": 2
        }
      ],
      "defaultProperties": {
        "label": "Slack Notification",
        "username": "Workflow Bot"
      },
      "contextMenuItems": [
        {
          "id": "test-slack",
          "label": {
            "en": "Send Test Message",
            "vi": "Gửi tin nhắn thử"
          },
          "icon": "Send",
          "action": {
            "type": "event",
            "event": "custom:test-slack-message"
          }
        }
      ]
    },
    {
      "id": "databaseQuery",
      "extends": "task",
      "name": {
        "en": "Database Query",
        "vi": "Truy vấn CSDL"
      },
      "description": {
        "en": "Execute database query",
        "vi": "Thực thi truy vấn cơ sở dữ liệu"
      },
      "category": "integrations",
      "icon": {
        "type": "lucide",
        "value": "Database",
        "color": "#ffffff",
        "backgroundColor": "#10b981"
      },
      "properties": [
        {
          "id": "connectionString",
          "name": "connectionString",
          "label": {
            "en": "Connection String",
            "vi": "Chuỗi kết nối"
          },
          "type": "text",
          "required": true,
          "placeholder": "postgresql://user:pass@host:5432/db",
          "group": "connection",
          "order": 1
        },
        {
          "id": "query",
          "name": "query",
          "label": {
            "en": "SQL Query",
            "vi": "Câu truy vấn SQL"
          },
          "type": "textarea",
          "required": true,
          "placeholder": "SELECT * FROM users WHERE id = $1",
          "group": "query",
          "order": 2
        },
        {
          "id": "parameters",
          "name": "parameters",
          "label": {
            "en": "Query Parameters",
            "vi": "Tham số truy vấn"
          },
          "type": "json",
          "required": false,
          "placeholder": "[1, \"john\"]",
          "description": {
            "en": "Array of parameter values",
            "vi": "Mảng các giá trị tham số"
          },
          "group": "query",
          "order": 3
        },
        {
          "id": "timeout",
          "name": "timeout",
          "label": {
            "en": "Query Timeout (ms)",
            "vi": "Thời gian chờ (ms)"
          },
          "type": "number",
          "required": false,
          "defaultValue": 30000,
          "group": "config",
          "order": 4
        }
      ],
      "propertyGroups": [
        {
          "id": "connection",
          "label": {
            "en": "Connection",
            "vi": "Kết nối"
          },
          "icon": "Link",
          "order": 1
        },
        {
          "id": "query",
          "label": {
            "en": "Query",
            "vi": "Truy vấn"
          },
          "icon": "Code",
          "order": 2
        },
        {
          "id": "config",
          "label": {
            "en": "Settings",
            "vi": "Cài đặt"
          },
          "icon": "Settings",
          "order": 3
        }
      ],
      "defaultProperties": {
        "label": "Database Query",
        "timeout": 30000
      },
      "contextMenuItems": [
        {
          "id": "test-query",
          "label": {
            "en": "Test Query",
            "vi": "Thử truy vấn"
          },
          "icon": "Play",
          "action": {
            "type": "event",
            "event": "custom:test-database-query"
          }
        },
        {
          "id": "format-sql",
          "label": {
            "en": "Format SQL",
            "vi": "Định dạng SQL"
          },
          "icon": "Code",
          "action": {
            "type": "event",
            "event": "custom:format-sql"
          }
        }
      ]
    },
    {
      "id": "conditionalStart",
      "extends": "start",
      "name": {
        "en": "Conditional Start",
        "vi": "Bắt đầu có điều kiện"
      },
      "description": {
        "en": "Start event with condition checking",
        "vi": "Sự kiện bắt đầu có kiểm tra điều kiện"
      },
      "icon": {
        "type": "lucide",
        "value": "PlayCircle",
        "color": "#ffffff",
        "backgroundColor": "#22c55e"
      },
      "properties": [
        {
          "id": "condition",
          "name": "condition",
          "label": {
            "en": "Start Condition",
            "vi": "Điều kiện bắt đầu"
          },
          "type": "text",
          "required": true,
          "placeholder": "variable === 'value'",
          "group": "basic",
          "order": 1
        },
        {
          "id": "checkInterval",
          "name": "checkInterval",
          "label": {
            "en": "Check Interval (ms)",
            "vi": "Khoảng thời gian kiểm tra (ms)"
          },
          "type": "number",
          "required": false,
          "defaultValue": 5000,
          "group": "config",
          "order": 2
        }
      ],
      "propertyGroups": [
        {
          "id": "config",
          "label": {
            "en": "Configuration",
            "vi": "Cấu hình"
          },
          "icon": "Settings",
          "order": 2
        }
      ],
      "defaultProperties": {
        "label": "Conditional Start",
        "checkInterval": 5000
      }
    }
  ]
}
